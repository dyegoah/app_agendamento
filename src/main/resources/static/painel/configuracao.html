<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Configura√ß√µes do Sistema</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <link href="/css/dashboard8.0.css" rel="stylesheet">
  <style>
    .calendar-day {
      border: 1px solid #ddd;
      padding: 15px;
      min-height: 80px;
      text-align: center;
      transition: background-color 0.3s ease;
      cursor: pointer;
    }
    .calendar-day:hover {
      background-color: rgba(0, 123, 255, 0.1);
    }
    .selected-period {
      background-color: rgba(13, 110, 253, 0.3);
      border-color: #0d6efd;
    }
    .past-day {
      background-color: #f1f1f1;
      color: #999;
    }
    .tooltip-custom {
      font-size: 0.9rem;
    }
  </style>
</head>

<body class="p-3 p-md-4">
  <div class="container-fluid">
    <!-- Cabe√ßalho -->
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h3 class="fw-bold text-primary"><i class="bi bi-gear-fill me-2"></i>Configura√ß√µes do Sistema</h3>
      <a href="/agendamento/painel/painelGerencia.html" class="btn btn-outline-secondary">
        <i class="bi bi-arrow-left-circle"></i> Voltar ao Painel
      </a>
    </div>

    <!-- Cards existentes -->
    <div class="row g-4">
      <!-- Servi√ßos Ofertados -->
      <div class="col-12 col-lg-6">
        <div class="card shadow-sm h-100">
          <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
            <span><i class="bi bi-scissors"></i> Servi√ßos Ofertados</span>
            <button class="btn btn-light btn-sm" id="btnAddServico"><i class="bi bi-plus-circle"></i> Novo Servi√ßo</button>
          </div>
          <div class="card-body">
            <form id="formServicos" class="mb-3">
              <div class="input-group">
                <input type="text" class="form-control" id="novoServico" placeholder="Digite o nome do servi√ßo">
                <button class="btn btn-success" type="submit"><i class="bi bi-check-lg"></i> Adicionar</button>
              </div>
            </form>

            <table class="table table-striped table-hover align-middle">
              <thead class="table-primary">
                <tr><th>Servi√ßo</th><th style="width:100px;">A√ß√µes</th></tr>
              </thead>
              <tbody id="tabelaServicos">
                <tr><td>Corte de cabelo</td><td><button class="btn btn-sm btn-outline-danger"><i class="bi bi-trash"></i></button></td></tr>
                <tr><td>Limpeza facial</td><td><button class="btn btn-sm btn-outline-danger"><i class="bi bi-trash"></i></button></td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Datas Bloqueadas -->
      <div class="col-12 col-lg-6">
        <div class="card shadow-sm h-100">
          <div class="card-header bg-danger text-white d-flex justify-content-between align-items-center">
            <span><i class="bi bi-calendar-x"></i> Datas e Hor√°rios Bloqueados</span>
            <button class="btn btn-light btn-sm" id="btnAddData"><i class="bi bi-plus-circle"></i> Nova Data</button>
          </div>
          <div class="card-body">
            <form id="formDatas" class="mb-3">
              <div class="row g-2">
                <div class="col-md-6"><input type="date" class="form-control" id="dataBloqueada"></div>
                <div class="col-md-6"><input type="time" class="form-control" id="horaBloqueada"></div>
              </div>
              <div class="text-end mt-2">
                <button class="btn btn-danger btn-sm" type="submit"><i class="bi bi-lock-fill"></i> Bloquear</button>
              </div>
            </form>

            <table class="table table-striped align-middle">
              <thead class="table-danger">
                <tr><th>Data</th><th>Hora</th><th style="width:100px;">A√ß√µes</th></tr>
              </thead>
              <tbody id="tabelaDatas">
                <tr><td>2025-11-02</td><td>14:00</td><td><button class="btn btn-sm btn-outline-danger"><i class="bi bi-trash"></i></button></td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
     
      <!-- Integra√ß√µes futuras -->
      <div class="col-12">
        
		<!-- Paleta de Cores do Sistema -->
		<div class="col-12 col-lg-6">
		  <div class="card shadow-sm h-100">
		    <div class="card-header bg-warning text-dark d-flex justify-content-between align-items-center">
		      <span><i class="bi bi-palette"></i> Personaliza√ß√£o de Cores</span>
		      <button id="btnRestaurar" class="btn btn-light btn-sm"><i class="bi bi-arrow-counterclockwise"></i> Restaurar</button>
		    </div>
		    <div class="card-body">
		      <h6 class="text-muted mb-3 text-center">Escolha a cor principal do sistema</h6>
		      <div class="d-flex justify-content-between flex-wrap mb-3">
		        <div class="color-option border" data-color="#0d6efd" style="width:40px; height:40px; border-radius:6px; background:#0d6efd; cursor:pointer;"></div>
		        <div class="color-option border" data-color="#198754" style="width:40px; height:40px; border-radius:6px; background:#198754; cursor:pointer;"></div>
		        <div class="color-option border" data-color="#6f42c1" style="width:40px; height:40px; border-radius:6px; background:#6f42c1; cursor:pointer;"></div>
		        <div class="color-option border" data-color="#fd7e14" style="width:40px; height:40px; border-radius:6px; background:#fd7e14; cursor:pointer;"></div>
		        <div class="color-option border" data-color="#dc3545" style="width:40px; height:40px; border-radius:6px; background:#dc3545; cursor:pointer;"></div>
		      </div>
		      <button id="btnMudarCor" class="btn btn-primary w-100"><i class="bi bi-brush"></i> Aplicar Cor Aleat√≥ria</button>
		    </div>
		  </div>
		</div>
		
		
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Tooltip
    const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]');
    [...tooltipTriggerList].map(el => new bootstrap.Tooltip(el));

    // Gera√ß√£o de calend√°rio simples (30 dias)
    const calendario = document.getElementById("calendario");
    const hoje = new Date();
    for (let i = 1; i <= 30; i++) {
      const dia = new Date(hoje.getFullYear(), hoje.getMonth(), i);
      const div = document.createElement("div");
      div.classList.add("col", "calendar-day");
      div.textContent = i;
      if (dia < hoje) div.classList.add("past-day");
      div.addEventListener("click", () => {
        alert("Hor√°rio configurado: " + (document.getElementById("horaInicial").value || "--") + " √†s " + (document.getElementById("horaFinal").value || "--"));
      });
      calendario.appendChild(div);
    }

    // Salvar per√≠odo
    document.getElementById("btnSalvar").addEventListener("click", () => {
      const p = document.getElementById("periodoTrabalho").value;
      const di = document.getElementById("diaInicial").value;
      const df = document.getElementById("diaFinal").value;
      const hi = document.getElementById("horaInicial").value;
      const hf = document.getElementById("horaFinal").value;
      if (!p || !di || !df || !hi || !hf) {
        alert("‚ö†Ô∏è Escolha o per√≠odo inicial e final e hor√°rios antes de salvar!");
        return;
      }
      document.querySelectorAll(".calendar-day").forEach(d => d.classList.add("selected-period"));
    });
  </script>
  
  <script>
    // Aplica a cor selecionada em todo o sistema
    document.querySelectorAll('.color-option').forEach(opt => {
      opt.addEventListener('click', () => {
        const color = opt.dataset.color;
        document.documentElement.style.setProperty('--primary-color', color);
        localStorage.setItem('primaryColor', color);
        alert('üé® Cor principal alterada com sucesso!');
      });
    });

    // Bot√£o para cor aleat√≥ria
    document.getElementById('btnMudarCor').addEventListener('click', () => {
      const cores = ['#0d6efd','#198754','#6f42c1','#fd7e14','#dc3545'];
      const corAleatoria = cores[Math.floor(Math.random() * cores.length)];
      document.documentElement.style.setProperty('--primary-color', corAleatoria);
      localStorage.setItem('primaryColor', corAleatoria);
      alert('üé® Cor aleat√≥ria aplicada!');
    });

    // Bot√£o restaurar cor
    document.getElementById('btnRestaurar').addEventListener('click', () => {
      document.documentElement.style.removeProperty('--primary-color');
      localStorage.removeItem('primaryColor');
      alert('üîÑ Cor padr√£o restaurada.');
    });

    // Restaura cor salva
    window.addEventListener('load', () => {
      const corSalva = localStorage.getItem('primaryColor');
      if (corSalva) document.documentElement.style.setProperty('--primary-color', corSalva);
    });
  </script>

</body>
</html>
